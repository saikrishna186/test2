/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["jquery.sap.global","./library","sap/ui/base/ManagedObject"],function(q,l,M){"use strict";var g=sap.ui.vk.dvl.getJSONObject;var N=M.extend("sap.ui.vk.NodeProxy",{metadata:{properties:{nodeId:"string",name:"string",localMatrix:{type:"sap.ui.vk.TransformationMatrix",bindable:"bindable"},worldMatrix:{type:"sap.ui.vk.TransformationMatrix",bindable:"bindable"},opacity:{type:"float",bindable:"bindable"},tintColorABGR:{type:"int",bindable:"bindable"},nodeMetadata:"object",hasChildren:"boolean",closed:"boolean"}},constructor:function(n,a){M.call(this);this._dvl=n?n.getGraphicsCore()._getDvl():null;this._dvlSceneId=n?n._getDvlSceneId():null;this._dvlNodeId=a;},destroy:function(){this._dvlNodeId=null;this._dvlSceneId=null;this._dvl=null;M.prototype.destroy.call(this);},getNodeId:function(){return this._dvlNodeId;},getName:function(){return g(this._dvl.Scene.RetrieveNodeInfo(this._getDvlSceneId,this._dvlNodeId,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_NAME)).NodeName;},getLocalMatrix:function(){return sap.ui.vk.TransformationMatrix.convertTo4x3(g(this._dvl.Scene.GetNodeLocalMatrix(this._dvlSceneId,this._dvlNodeId)).matrix);},setLocalMatrix:function(v){this._dvl.Scene.SetNodeLocalMatrix(this._dvlSceneId,this._dvlNodeId,sap.ui.vk.TransformationMatrix.convertTo4x4(v));this.setProperty("localMatrix",v,true);return this;},getWorldMatrix:function(){return sap.ui.vk.TransformationMatrix.convertTo4x3(g(this._dvl.Scene.GetNodeWorldMatrix(this._dvlSceneId,this._dvlNodeId)).matrix);},setWorldMatrix:function(v){this._dvl.Scene.SetNodeWorldMatrix(this._dvlSceneId,this._dvlNodeId,sap.ui.vk.TransformationMatrix.convertTo4x4(v));this.setProperty("worldMatrix",v,true);return this;},getOpacity:function(){return g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,this._dvlNodeId,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_OPACITY)).Opacity;},setOpacity:function(v){this._dvl.Scene.SetNodeOpacity(this._dvlSceneId,this._dvlNodeId,v);this.setProperty("opacity",v,true);return this;},getTintColorABGR:function(){return g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,this._dvlNodeId,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_HIGHLIGHT_COLOR)).HighlightColor;},setTintColorABGR:function(v){this._dvl.Scene.SetNodeHighlightColor(this._dvlSceneId,this._dvlNodeId,v);this.setProperty("tintColorABGR",v,true);return this;},getNodeMetadata:function(){return g(this._dvl.Scene.RetrieveMetadata(this._dvlSceneId,this._dvlNodeId)).metadata;},getHasChildren:function(){return(g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,this._dvlNodeId,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS)).Flags&(sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_MAPPED_HASCHILDREN|sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_CLOSED))===sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_MAPPED_HASCHILDREN;},getClosed:function(){return(g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,this._dvlNodeId,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS)).Flags&sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_CLOSED)!==0;}});delete N.prototype.setClosed;delete N.prototype.setHasChildren;delete N.prototype.setName;delete N.prototype.setNodeId;delete N.prototype.setNodeMetadata;return N;});
